// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/python
{
	"name": "Python 3",
	// Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
	"image": "mcr.microsoft.com/devcontainers/python:1-3.12-bullseye",
	// Features to add to the dev container. More info: https://containers.dev/features.
	"features": {
		"ghcr.io/devcontainers/features/git:1": {
			"version": "latest"
		},
		"ghcr.io/devcontainers/features/git-lfs:1": {
			"autoPull": true,
			"version": "latest"
		},
		"ghcr.io/nils-geistmann/devcontainers-features/zsh:0": {
			"version": "latest",
			"ohMyZsh": true,
			"setLocale": true,
			"theme": "robbyrussell",
			"plugins": "git docker vi-mode",
			"desiredLocale": "en_US.UTF-8 UTF-8"
		},
		"ghcr.io/devcontainers-contrib/features/hatch:2": {}
	},
	// Use 'initializeCommand' to run commands before anything else:
	"initializeCommand": "git submodule update --init",
	// Use 'onCreateCommand' to run commands after the container is created inside the container:
	"onCreateCommand": "_HATCH_COMPLETE=zsh_source hatch > ~/.hatch_complete.zsh && echo '. ~/.hatch_complete.zsh' >> ~/.zshrc && hatch env create default && hatch env create docs",
	"customizations": {
		"vscode": {
			"extensions": [
				"vscodevim.vim",
				"ms-python.python",
				"yzhang.markdown-all-in-one"
			]
	    }
	}
}
